(function(a,P,o,h,y,l,f,m,te,$,F){"use strict";function j(){const e=window[window.__vendetta_loader?.features?.themes?.prop];if(e)return e?.data?.plus}function g(e,t){e.style=Object.assign(o.ReactNative.StyleSheet.flatten(e.style)??{},t)}function ne(){}const{TextStyleSheet:G}=l.findByProps("TextStyleSheet"),{View:re,Text:B,Pressable:ie}=m.General;l.find(function(e){return e.render?.name==="ActionSheet"}),l.findByProps("openLazy","hideActionSheet"),l.findByProps("ActionSheetTitleHeader","ActionSheetCloseButton","ActionSheetContentContainer");function E(e){const t=l.findByProps("colors","meta"),r=l.findByStoreName("ThemeStore");return t.meta.resolveSemanticColor(r.theme,e)}var I;(function(e){function t(n){let{children:i,onPress:c}=n;return o.React.createElement(d,{variant:"text-md/bold",onPress:c},i)}e.Bold=t;function r(n){let{children:i,onPress:c}=n;return o.React.createElement(B,{style:{textDecorationLine:"underline"},onPress:c},i)}e.Underline=r})(I||(I={}));function d(e){let{variant:t,lineClamp:r,color:n,align:i,style:c,onPress:s,getChildren:v,children:T,liveUpdate:ee}=e;const[ae,N]=o.React.useReducer(function(b){return~b},0);return o.React.useEffect(function(){if(!ee)return;const b=new Date().setMilliseconds(1e3);let U,M;return M=setTimeout(function(){N(),U=setInterval(N,1e3)},b-Date.now()),function(){clearTimeout(M),clearInterval(U)}},[]),o.React.createElement(B,{style:[t?G[t]:{},n?{color:E(f.semanticColors[n])}:{},i?{textAlign:i}:{},c??{}],numberOfLines:r,onPress:s},v?.()??T)}const V=l.findByStoreName("UnsyncedUserSettingsStore");function z(e){const t=V.useAMOLEDTheme;if(t===3)return e.darker??e.dark;if(t===2)return e.amoled??e.dark;if(t===1)return e.light;if(t===0)return e.dark}function C(e){if(Array.isArray(e))return z({dark:e[0],light:e[1],amoled:e[2],darker:e[3]});if(e.startsWith("SC_"))return f.semanticColors[e.slice(3)]?E(f.semanticColors[e.slice(3)]):"#ffffff";if(e.startsWith("RC_"))return f.rawColors[e.slice(3)]??"#ffffff";if(e.startsWith("#")&&e.length===4)return`#${e[1].repeat(2)}${e[2].repeat(2)}${e[3].repeat(2)}`;if(e.startsWith("#")&&e.length===7)return e}function H(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:255;const[r,n,i,c]=e.match(/#([A-F0-9]{2})([A-F0-9]{2})([A-F0-9]{2})/i);return(t&255)<<24|(parseInt(n,16)&255)<<16|(parseInt(i,16)&255)<<8|parseInt(c,16)&255}function S(e,t,r){const n=r??y.getAssetByID(t)?.name;if(n&&e.icons[n])return C(e.icons[n])}function A(e,t,r){if(typeof r.props.source=="number"){const n=S(e,r.props.source,t);n&&g(r.props,{tintColor:n})}return r.props.ignore=!0,r}function k(e){if(e.unreadBadgeColor)return C(e.unreadBadgeColor)}const{View:R}=m.General,{MaskedBadge:W}=l.findByProps("MaskedBadge"),X=o.stylesheet.createThemedStyleSheet({maskPins:{position:"absolute",right:-10,bottom:-10,backgroundColor:f.semanticColors.BACKGROUND_SECONDARY}}),w="https://cdn.discordapp.com/attachments/919655852724604978/1134434803228344360/inner_check.png";function q(e,t,r){const n=y.getAssetByID(t)?.name;if(n){if(["ic_new_pins_light","ic_new_pins"].includes(n))return{replace:n.includes("light")?"icon-pins":"ic_pins",children:React.createElement(R,{style:{position:"absolute",right:0,bottom:0}},React.createElement(W,{maskStyle:X.maskPins,value:1,hideCount:!0}))};if(["ic_selection_checked_24px","ic_radio_square_checked_24px","ic_check","ic_radio_circle_checked"].includes(n))return{style:{tintColor:"#5865F2"},children:React.createElement(R,{style:{position:"absolute",left:0,top:0}},A(e,`${n}__overlay`,React.createElement(o.ReactNative.Image,{source:{uri:w},style:[...r,{tintColor:"#FFF"}]})))};if(["app_installed_check","ic_radio_circle_checked_green"].includes(n))return{style:{tintColor:"#3BA55C"},children:React.createElement(R,{style:{position:"absolute",left:0,top:0}},A(e,`${n}__overlay`,React.createElement(o.ReactNative.Image,{source:{uri:w},style:[...r,{tintColor:"#FFF"}]})))}}}const{View:K}=m.General,x=l.findByProps("MaskedBadge"),Y=l.findByProps("createBackgroundHighlight");function J(){const e=new Array,t=j();return u.patches.length=0,t?.version!==void 0?(u.active=!0,(t.icons||t.customOverlays)&&(t.icons&&u.patches.push(a.PatchType.Icons),t.customOverlays&&u.patches.push(a.PatchType.CustomIconOverlays),e.push(h.instead("render",o.ReactNative.Image,function(r,n){const[i]=r;if(!i.source||typeof i.source!="number"||i.ignore)return n(...r);let c=i.source,s;if(t.customOverlays&&(s=q(t,c,i.style?Array.isArray(i.style)?i.style:[i.style]:[]),s&&(s.replace&&(i.source=y.getAssetIDByName(s.replace)),s.style&&g(i,s.style))),t.icons){const T=S(t,c);T&&g(i,{tintColor:T})}const v=n(...r);return s?.children?React.createElement(K,null,v,s.children):v}))),t.unreadBadgeColor&&(u.patches.push(a.PatchType.UnreadBadgeColor),e.push(h.after("MaskedBadge",x,function(r,n){const i=n&&$.findInReactTree(n,function(c){return c?.type?.name==="Badge"});i&&e.push(h.after("type",i,function(c,s){return s?.props&&g(s.props,{backgroundColor:k(t)})},!0))})),e.push(h.after("default",x,function(r,n){return n?.props&&g(n.props,{backgroundColor:k(t)})}))),t.mentionLineColor&&(u.patches.push(a.PatchType.MentionLineColor),e.push(h.after("createBackgroundHighlight",Y,function(r,n){let[i]=r;const c=C(t.mentionLineColor);i?.message?.mentioned&&c&&(n.gutterColor=H(c,200))})))):u.active=!1,u.patches[0]&&void 0,function(){e.forEach(function(r){return r()})}}const{View:p}=m.General,L="https://cdn.jsdelivr.net/gh/twitter/twemoji@14.0.2/assets/72x72/",{TextStyleSheet:_}=l.findByProps("TextStyleSheet");function Q(){return React.createElement(p,{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}},u.active?React.createElement(React.Fragment,null,React.createElement(p,{style:{flexDirection:"row",justifyContent:"center",marginBottom:16}},React.createElement(o.ReactNative.Image,{source:{uri:`${L}2705.png`},style:{height:_["heading-xxl/semibold"].fontSize,aspectRatio:1/1,marginRight:8,marginTop:6}}),React.createElement(d,{variant:"heading-xxl/semibold",color:"TEXT_NORMAL"},"Themes+ is Active")),React.createElement(p,{style:{flexDirection:"column",marginHorizontal:16}},Object.values(a.PatchType).filter(function(e){return typeof e=="number"}).map(function(e){return React.createElement(p,{style:{flexDirection:"row"}},React.createElement(o.ReactNative.Image,{source:y.getAssetIDByName(u.patches.includes(e)?"ic_radio_square_checked_24px":"ic_radio_square_24px"),style:{marginRight:8,height:_["text-lg/semibold"].fontSize,aspectRatio:1/1,marginTop:4}}),React.createElement(d,{variant:"text-lg/semibold",color:"TEXT_NORMAL"},D[e]))}))):React.createElement(p,{style:{flexDirection:"row",justifyContent:"center"}},React.createElement(o.ReactNative.Image,{source:{uri:`${L}274c.png`},style:{height:_["heading-xxl/semibold"].fontSize,aspectRatio:1/1,marginRight:8,marginTop:6}}),React.createElement(d,{variant:"heading-xxl/semibold",color:"TEXT_NORMAL"},"Themes+ is not Active")),React.createElement(d,{variant:"text-lg/bold",color:"TEXT_LINK",style:{textDecorationLine:"underline",marginTop:32},onPress:function(){return o.url.openURL("https://github.com/Gabe616/VendettaThemesPlus#info")}},"Why is Themes+ inactive?"),React.createElement(d,{variant:"text-lg/bold",color:"TEXT_LINK",style:{textDecorationLine:"underline",marginTop:4},onPress:function(){return o.url.openURL("https://github.com/Gabe616/VendettaThemesPlus#using-vendetta-themes")}},"How to use Themes+?"))}a.PatchType=void 0,function(e){e[e.Icons=0]="Icons",e[e.UnreadBadgeColor=1]="UnreadBadgeColor",e[e.CustomIconOverlays=2]="CustomIconOverlays",e[e.MentionLineColor=3]="MentionLineColor"}(a.PatchType||(a.PatchType={}));const D=Object.fromEntries([[a.PatchType.Icons,"Custom icon colors"],[a.PatchType.UnreadBadgeColor,"Unread badge color"],[a.PatchType.CustomIconOverlays,"Custom icon overlays"],[a.PatchType.MentionLineColor,"Mention line color"]]);let u={active:!1,patches:[]},O;var Z={onLoad:function(){O=J(),P.storage.firstInstall||(P.storage.firstInstall=!0,F.showConfirmationAlert({title:"About Themes+",content:"Themes+ is a plugin that adds more customizability to themes, such as recoloring icons.",confirmText:"More Info",confirmColor:"brand",onConfirm:function(){return o.url.openURL("https://github.com/Gabe616/VendettaThemesPlus/#info")},cancelText:"Close"}))},onUnload:function(){return O?.()},settings:Q};return a.active=u,a.default=Z,a.patchTypeReadable=D,Object.defineProperty(a,"__esModule",{value:!0}),a})({},vendetta.plugin,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.metro,vendetta.ui,vendetta.ui.components,vendetta.ui.toasts,vendetta.utils,vendetta.ui.alerts);

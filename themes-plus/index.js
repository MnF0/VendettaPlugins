(function(u,y,s,l,d,f,R,I,h,T){"use strict";function w(){const e=window[window.__vendetta_loader?.features?.themes?.prop];if(e)return e?.data?.plus}const E=f.findByStoreName("UnsyncedUserSettingsStore");function m(e){const t=E.useAMOLEDTheme;if(t===3)return e.darker??e.dark;if(t===2)return e.amoled??e.dark;if(t===1)return e.light;if(t===0)return e.dark}function a(e,t){e.style??=[],Array.isArray(e.style)||(e.style=[e.style]),e.style=e.style.concat(t)}function g(e,t,o){const n=o??d.getAssetByID(t)?.name;if(!n||!e.icons[n])return;const r=e.icons[n];return Array.isArray(r)?m({dark:r[0],light:r[1],amoled:r[2],darker:r[3]}):r}function _(e,t,o){if(typeof o.props.source=="number"){const n=g(e,o.props.source,t);n&&a(o.props,{tintColor:n})}return o.props.ignore=!0,o}function k(e){if(!e.unreadBadgeColor)return;const t=e.unreadBadgeColor;return Array.isArray(t)?m({dark:t[0],light:t[0],amoled:t[0],darker:t[0]}):t}const{View:p}=h.General,{MaskedBadge:S}=f.findByProps("MaskedBadge"),D=s.stylesheet.createThemedStyleSheet({maskPins:{position:"absolute",right:-10,bottom:-10,backgroundColor:I.semanticColors.BACKGROUND_SECONDARY}}),v="https://cdn.discordapp.com/attachments/919655852724604978/1134434803228344360/inner_check.png";function F(e,t,o){const n=d.getAssetByID(t)?.name;if(n){if(["ic_new_pins_light","ic_new_pins"].includes(n))return{replace:n.includes("light")?"icon-pins":"ic_pins",children:React.createElement(p,{style:{position:"absolute",right:0,bottom:0}},React.createElement(S,{maskStyle:D.maskPins,value:1,hideCount:!0}))};if(["ic_selection_checked_24px","ic_radio_square_checked_24px","ic_check","ic_radio_circle_checked"].includes(n))return{style:{tintColor:"#5865F2"},children:React.createElement(p,{style:{position:"absolute",left:0,top:0}},_(e,`${n}__overlay`,React.createElement(s.ReactNative.Image,{source:{uri:v},style:[...o,{tintColor:"#FFF"}]})))};if(["app_installed_check","ic_radio_circle_checked_green"].includes(n))return{style:{tintColor:"#3BA55C"},children:React.createElement(p,{style:{position:"absolute",left:0,top:0}},_(e,`${n}__overlay`,React.createElement(s.ReactNative.Image,{source:{uri:v},style:[...o,{tintColor:"#FFF"}]})))}}}const{View:M}=h.General,C=f.findByProps("MaskedBadge");function N(){const e=new Array,t=w();return t?.version!==void 0&&((t.icons||t.customOverlays)&&e.push(l.instead("render",s.ReactNative.Image,function(o,n){const[r]=o;if(!r.source||typeof r.source!="number"||r.ignore)return n(...o);let c=r.source,i;if(t.customOverlays&&(i=F(t,c,r.style?Array.isArray(r.style)?r.style:[r.style]:[]),i&&(i.replace&&(r.source=d.getAssetIDByName(i.replace)),i.style&&a(r,i.style))),t.icons){const B=g(t,c);B&&a(r,{tintColor:B})}const b=n(...o);return i?.children?React.createElement(M,null,b,i.children):b})),t.unreadBadgeColor&&(e.push(l.after("MaskedBadge",C,function(o,n){const r=n&&R.findInReactTree(n,function(c){return c?.type?.name==="Badge"});r&&e.push(l.after("type",r,function(c,i){return i?.props&&a(i.props,{backgroundColor:k(t)})},!0))})),e.push(l.after("default",C,function(o,n){return n?.props&&a(n.props,{backgroundColor:k(t)})})))),function(){e.forEach(function(o){return o()})}}let A;var O={onLoad:function(){A=N(),y.storage.firstInstall||(y.storage.firstInstall=!0,T.showConfirmationAlert({title:"About Themes+",content:"Themes+ is a plugin that adds more customizability to themes, such as recoloring icons.",confirmText:"More Info",confirmColor:"brand",onConfirm:function(){return s.url.openURL("https://github.com/Gabe616/VendettaThemesPlus/#info")},cancelText:"Close"}))},onUnload:function(){return A?.()}};return u.default=O,Object.defineProperty(u,"__esModule",{value:!0}),u})({},vendetta.plugin,vendetta.metro.common,vendetta.patcher,vendetta.ui.assets,vendetta.metro,vendetta.utils,vendetta.ui,vendetta.ui.components,vendetta.ui.alerts);
